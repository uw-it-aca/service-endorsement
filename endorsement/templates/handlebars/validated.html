{% load templatetag_handlebars %}
{% tplhandlebars "validated-list" %}

<h3>Verify UW Netids for Endorsement</h3>

<!--  Verify that the UW Netids below are intended for endorsement. -->
<div class="form-group validation">
<table class="table table-striped">
  <thead><tr><th colspan="3">User Information</th><th colspan="3">Office365 Endorsement</th><th colspan="3">Google Endorsement</th></tr><tr><th>NetId</th><th>Name</th><th>Email</th><th class="centered">{{#if o365_endorsable}}Endorse{{/if}}</th><th>Comment</th><th class="centered">{{#if google_endorsable}}Endorse{{/if}}</th><th>Comment</th></tr></thead>
  {{#each netids}}
  {{#if valid_netid}}
  <tr>
    <td>{{netid}}</td>
    <td>{{name}}</td>
    <td>{{email}}</td>
     {{#with (subscription_context o365 netid 'o365') }}
        {{> validation_partial .}}
     {{/with}}
     {{#with (subscription_context google netid 'google') }}
        {{> validation_partial .}}
     {{/with}}
  </tr>
  {{else}}
  <tr class="invalid-netid">
    <td>{{netid}}</td>
    <td class="centered" colspan="2">[ Unrecognized NetID ]</td>
    <td class="centered"><i class="fa fa-minus-circle"></i></td>
    <td></td>
    <td class="centered"><i class="fa fa-minus-circle"></i></td>
    <td></td>
  </tr>
  {{/if}}
  {{/each}}

</table>
</div>
<div>
  <button type="button" name="BackToUWNetids" id="netid_input" class="btn btn-normal">Edit Eligiblity List</button>

<!--
  <button type="button" name="Endorse" id="endorse" class="btn btn-primary" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> Updating Services">Update Service Endorsements</button>
-->

<!-- Button trigger modal -->
<button type="button" id="confirm_endorsements" class="btn btn-primary" data-toggle="modal" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> Updating Service Endorsements" data-target="#responsibility_modal">
Update Service Endorsements
</button>

</div>

<!-- Responsiblity Modal -->
<div class="modal fade" id="responsibility_modal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <span>Endorse NetIDs</span>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4>Endorsement Acknowledgement</h4>
        <p>
        Endorse responsibly.
        </p>
        <label>
          <input type="checkbox" id="accept_responsibility"  />
          I understand and accept these terms
        </label>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Not Yet</button>
        <button type="button" id="endorse" class="btn btn-primary" disabled="disabled">Endorse NetIDs</button>
      </div>
    </div>
  </div>
</div>

{% endtplhandlebars %}
