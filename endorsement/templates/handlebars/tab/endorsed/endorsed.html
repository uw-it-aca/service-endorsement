{% load templatetag_handlebars %}
{% tplhandlebars "endorsed-netids" %}

<div id="endorsed-uwnetids">
  <h3>UW NetIDs owned by others</h3>
  <p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  </p>

  {{#if loading}}
  <div class="loading"></div>
  {{else}}

  {{#if has_endorsed}}
  <div class="row provision-bar">
      <span class="pull-left">
        <a name="ExportCSV" id="export_csv" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> Exporting Accounts"><span class="fa fa-download"></span> Export as CSV</a>
      </span>
      {{> display_filter_partial . }}
  </div>
    </div>

  <div class="form-group">
    <div class="endorsed-netids-table">
    <table class="table table-striped">
      <thead class="thead-dark">
        <tr>
          <th>UW NetID</th>
          <th>Name</th>
          <th>Service</th>
        </tr>
      </thead>
      {{#each endorsed.endorsed}}
      <tr>
        <td class="endorsed-netid">{{@key}}</td>
        <td class="endorsed-name">{{name}}</td>
        <td class="endorsed-services" class="col-border-left">
          <div style="position: relative">
            {{#each this.endorsements}}
              {{> endorsers_partial endorsement=this netid=@../key svc=@key }}
            {{/each}}
          </div>
        </td>
      </tr>
      {{/each}}
    </table>
  </div>
</div>
<!-- 
  <button type="button" name="Revoke" id="revoke" class="btn btn-primary" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> Revoking Services">Revoke Endorsements</button>
-->
  {{else}}
  <div class="no-endorsements">You haven't provisioned services for any UW NetIDs.</dev>
  {{/if}}

  {{/if}}

</div>

{% endtplhandlebars %}


{% tplhandlebars "endorsed-loading" %}
<div class="loading"><div></div></div>
{% endtplhandlebars %}


{% tplhandlebars "endorsed-failure" %}
<div class="no-endorsements">We are unable to determine provisioned services at this time.  Please try again later.</dev>
{% endtplhandlebars %}
